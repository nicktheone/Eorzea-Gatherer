<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://xamarin.com/schemas/2014/forms"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="Eorzea_Gatherer.Pages.NodesPage"
             xmlns:ios="clr-namespace:Xamarin.Forms.PlatformConfiguration.iOSSpecific;assembly=Xamarin.Forms.Core" 
             ios:Page.UseSafeArea="true"
             BackgroundColor="#F4F4F4">
    <!--https://xamarinhelp.com/safeareainsets-xamarin-forms-ios/-->
    <ListView x:Name="nodesListView"
              IsGroupingEnabled="True"
              HasUnevenRows="True"
              BackgroundColor="#F4F4F4"
              Margin="30, 30, 30, 0">
        <ListView.GroupHeaderTemplate>
            <DataTemplate>
                <ViewCell Height="30">
                    <Label BackgroundColor="#F4F4F4"
                           Text="{Binding Header}"
                           TextColor="#171717"
                           VerticalTextAlignment="Center"/>
                </ViewCell>
            </DataTemplate>
        </ListView.GroupHeaderTemplate>
        <ListView.ItemTemplate>
            <DataTemplate>
                <ViewCell>
                    <ViewCell.ContextActions>
                        <MenuItem Clicked="AddTracking"
                                  Text="Add to Tracking" />
                    </ViewCell.ContextActions>
                    <Grid Padding="0, 5">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="60"/>
                            <ColumnDefinition/>
                        </Grid.ColumnDefinitions>
                        <Image Source="{Binding icon}"
                               HeightRequest="50"
                               WidthRequest="50"
                               Grid.Column="0"/>
                        <StackLayout Grid.Column="1">
                            <Label Text="{Binding item}"
                                   TextColor="#171717"
                                   FontSize="13"
                                   FontFamily="SegoeUI"/>
                            <!--https://forums.xamarin.com/discussion/97996/binding-more-than-one-property-in-listview-->
                            <Label TextColor="#171717"
                                   FontSize="12"
                                   FontFamily="SegoeUI">
                                <Label.FormattedText>
                                    <FormattedString>
                                        <Span Text="{Binding zone}"/>
                                        <Span Text=" - "/>
                                        <Span Text="{Binding slot}"/>
                                    </FormattedString>
                                </Label.FormattedText>
                            </Label>
                            <Label TextColor="#171717"
                                   FontSize="12"
                                   FontFamily="SegoeUI">
                                <Label.FormattedText>
                                    <FormattedString>
                                        <Span Text="{Binding time}"/>
                                        <Span Text=" - "/>
                                        <Span Text="00:00 AM"/>
                                    </FormattedString>
                                </Label.FormattedText>
                            </Label>
                        </StackLayout>
                    </Grid>
                </ViewCell>
            </DataTemplate>
        </ListView.ItemTemplate>
    </ListView>
</ContentPage>